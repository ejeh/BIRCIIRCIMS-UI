<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BDIC Application</title>
    <link rel="stylesheet" href="" />

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      /* Page layout */
      body {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(110deg, #f6f7fb 0%, #eef2f6 100%);
        font-family: system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        padding: 2rem;
        border: solid rgb(210, 172, 90) 2em;
      }

      .card-gate {
        max-width: 700px;
        width: 100%;
        box-shadow: 0 8px 30px rgba(20, 20, 40, 0.06);
        border-radius: 0.75rem;
        overflow: hidden;
      }

      .left-photo {
        background: url("./assets/images/gove.jpeg") center/cover no-repeat;
        min-height: 360px;
      }

      /* Right column */
      .login-col {
        padding: 2.2rem;
        background: #fff;
      }

      .logo {
        height: 48px;
        width: 48px;
        border-radius: 8px;
        display: inline-block;
        background: linear-gradient(135deg, #215432, #215432);
        margin-right: 0.75rem;
      }

      .protected-content {
        display: none; /* hidden until unlocked */
        margin-top: 1.2rem;
      }

      .unlock-success {
        animation: fadeIn 600ms ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(6px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* small helpers */
      .small-muted {
        font-size: 0.7rem;
        color: #6c757d;
      }
      .powered-by {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #f5f5f5;
        padding: 15px;
        border-top: 2px solid #003366;
        font-family: Arial, sans-serif;
      }

      .powered-by img {
        height: 50px;
        margin-right: 10px;
      }

      .powered-by span {
        font-size: 16px;
        color: #003366;
        font-weight: bold;
      }

      /* Login form styles */
      .login-form {
        margin-top: 1.5rem;
      }

      .form-control:focus {
        border-color: #215432;
        box-shadow: 0 0 0 0.25rem rgba(33, 84, 50, 0.25);
      }

      .btn-success {
        background-color: #215432;
        border-color: #215432;
      }

      .btn-success:hover {
        background-color: #1a3f27;
        border-color: #1a3f27;
      }

      .alert {
        display: none;
      }

      .shake {
        animation: shake 0.5s ease-in-out;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        20%,
        60% {
          transform: translateX(-5px);
        }
        40%,
        80% {
          transform: translateX(5px);
        }
      }
    </style>
  </head>
  <body>
    <div class="card card-gate d-flex flex-row">
      <!-- Left image / floral (landscape) -->
      <div class="left-photo d-none d-md-block" style="width: 48%"></div>

      <!-- Right: login column -->
      <div class="login-col" style="width: 52%">
        <div class="d-flex align-items-center mb-3">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <h5 class="mb-0">You Are Welcome</h5>
            <div class="small-muted">
              This Application is About to be Launched.
            </div>
          </div>
        </div>

        <!-- Welcome button (opens modal) -->
        <div class="mb-3">
          <button
            id="btnWelcome"
            type="button"
            class="btn btn-outline-primary btn-sm"
            data-bs-toggle="modal"
            data-bs-target="#welcomeModal"
          >
            About Us
          </button>
        </div>

        <!-- Password form -->
        <form id="passwordForm" class="mb-3" novalidate>
          <label for="passwordInput" class="form-label"
            >Enter Test Password</label
          >
          <div class="input-group mb-2">
            <input
              id="passwordInput"
              type="password"
              class="form-control"
              placeholder="Password"
              aria-label="Password"
              required
            />
            <button
              id="togglePwd"
              class="btn btn-outline-secondary"
              type="button"
              title="Show / hide password"
              aria-pressed="false"
            >
              Show
            </button>
          </div>
          <div id="pwdFeedback" class="form-text small-muted">
            Password is Required to Access this Application
          </div>

          <div class="d-flex gap-2 mt-3">
            <button id="btnUnlock" class="btn btn-success" type="submit">
              Test
            </button>
            <button
              id="btnReset"
              class="btn btn-outline-secondary"
              type="button"
            >
              Reset
            </button>
          </div>
        </form>

        <!-- Alert for incorrect password -->
        <div id="errorAlert" class="alert alert-danger mt-3" role="alert">
          Incorrect password. Please try again.
        </div>

        <!-- If not unlocked show a soft preview area -->
        <div id="preview" class="mt-3">
          <hr />
          <p
            class="small-muted mb-0"
            style="text-align: justify; font-size: 14px"
          >
            This application will be officially launched by
            <strong
              >His Excellency, Rev. Fr. Dr. Hyacinth Iormem Alia, the Executive
              Governor of Benue State, </strong
            >for general public use very soon.
          </p>
        </div>
        <footer class="powered-by">
          <img src="assets/images/bdicl.jpg" alt="BDIC Logo" />
          <span style="text-align: center; font-size: 10px"
            >Powered by Benue Digital Infrastructure Company (BDIC)</span
          >
        </footer>
      </div>
    </div>

    <!-- WELCOME MODAL -->
    <div
      class="modal fade"
      id="welcomeModal"
      tabindex="-1"
      aria-labelledby="welcomeModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title" id="welcomeModalLabel">Welcome</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p style="text-align: justify">
              The Government of Benue State is proud to announce the upcoming
              Integrated Citizenship and Resident Identity Registration
              Management System â€” a secure, digital platform designed to serve
              as the central hub for identity verification, citizenship records,
              and resident registration across the state. With this system,
              residents will be able to: Register their citizenship and obtain
              verifiable, government-approved identity credentials. Update their
              residential status and personal information through a unified
              portal. Access services that require identity verification more
              quickly and securely. Manage their records online, with improved
              privacy and data protection standards. We are pleased to inform
              residents that the full application will be launched soon. Once
              live, all residents are encouraged to visit the site.
            </p>
          </div>
          <div class="modal-footer border-0">
            <footer class="powered-by">
              <img src="assets/images/bdicl.jpg" alt="BDIC Logo" />
              <span style="text-align: center"
                >Powered by Benue Digital Infrastructure Company (BDIC)</span
              >
            </footer>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // --- Demo password handling (client-side only) ---
      // Change this demo password to whatever you like. For production, validate server-side.
      const DEMO_PASSWORD = "localhost3000"; // example

      const passwordInput = document.getElementById("passwordInput");
      const togglePwd = document.getElementById("togglePwd");
      const passwordForm = document.getElementById("passwordForm");
      const pwdFeedback = document.getElementById("pwdFeedback");
      const errorAlert = document.getElementById("errorAlert");
      const btnReset = document.getElementById("btnReset");

      // Toggle show/hide password
      togglePwd.addEventListener("click", () => {
        const isHidden = passwordInput.type === "password";
        passwordInput.type = isHidden ? "text" : "password";
        togglePwd.textContent = isHidden ? "Hide" : "Show";
        togglePwd.setAttribute("aria-pressed", String(!isHidden));
        passwordInput.focus();
      });

      // Handle form submit
      passwordForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const val = passwordInput.value || "";

        // Hide error alert if visible
        errorAlert.style.display = "none";

        if (!val.trim()) {
          pwdFeedback.textContent = "Please enter the password.";
          pwdFeedback.classList.add("text-danger");
          passwordInput.classList.add("shake");
          setTimeout(() => passwordInput.classList.remove("shake"), 500);
          return;
        }

        // client-side check
        if (val === DEMO_PASSWORD) {
          pwdFeedback.textContent = "Password accepted. Redirecting...";
          pwdFeedback.classList.remove("text-danger");
          pwdFeedback.classList.add("text-success");

          // Store login state in sessionStorage
          sessionStorage.setItem("isLoggedIn", "true");

          // Redirect to index2.html after a brief delay
          setTimeout(() => {
            window.location.href = "index2.html";
          }, 800);
        } else {
          pwdFeedback.textContent = "Incorrect password. Please try again.";
          pwdFeedback.classList.remove("text-success");
          pwdFeedback.classList.add("text-danger");

          // Show error alert
          errorAlert.style.display = "block";

          // Add shake animation
          passwordInput.classList.add("shake");
          setTimeout(() => passwordInput.classList.remove("shake"), 500);

          passwordInput.select();
        }
      });

      // Reset button
      btnReset.addEventListener("click", () => {
        passwordInput.value = "";
        pwdFeedback.textContent = "Password cleared.";
        pwdFeedback.classList.remove("text-danger", "text-success");
        errorAlert.style.display = "none";
        passwordInput.focus();
      });

      // Allow Enter key to submit form
      document.addEventListener("keydown", (ev) => {
        if (
          ev.key === "Enter" &&
          document.activeElement &&
          document.activeElement.tagName !== "TEXTAREA"
        ) {
          // Submit only if password form visible
          if (passwordForm.style.display !== "none") {
            ev.preventDefault();
            passwordForm.dispatchEvent(
              new Event("submit", { cancelable: true })
            );
          }
        }
      });
    </script>
  </body>
</html>
